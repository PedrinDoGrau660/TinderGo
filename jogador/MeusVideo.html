<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon_io/favicon-32x32.png">
  <title>Meu Perfil</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      position: relative;
      min-height: 100vh;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 20px;
      text-align: center;
    }

    .profile-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      justify-content: center;
      gap: 15px;
    }

    .avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-size: cover;
    }

    .video-card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 25px;
      overflow: hidden;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    video {
      width: 100%;
      background: #000;
      display: block;
    }

    .video-info {
      padding: 15px;
    }

    .video-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .video-meta {
      font-size: 14px;
      color: #666;
      margin-bottom: 10px;
    }

    .video-actions {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .btn-icon {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      color: #1E90FF;
      transition: color 0.3s ease;
    }

    .btn-icon:hover {
      color: #1C86EE;
    }

    .comment-section {
      margin-top: 10px;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 6px;
      display: none;
      font-size: 14px;
      color: #666;
    }

    .back-arrow {
      position: fixed;
      top: 15px;
      left: 15px;
      font-size: 26px;
      color: #1C86EE;
      text-decoration: none;
      background: rgba(255, 255, 255, 0.85);
      padding: 8px 12px;
      border-radius: 50%;
      transition: background 0.3s ease;
      z-index: 1000;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }

    .back-arrow:hover {
      background: rgba(230, 230, 230, 0.95);
    }

    @media (max-width: 640px) {
      .video-card {
        width: 100%;
        margin: 0 10px 25px 10px;
      }
    }

    /* Perfil do jogador */
    .player-profile {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    .player-profile img {
      width: 120px;
      border-radius: 10px;
      object-fit: cover;
      border: 2px solid #1E90FF;
    }

    .save-btn {
      display: block;
      margin: 10px auto 30px auto;
      padding: 12px 20px;
      font-size: 16px;
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    .save-btn:hover { background-color: #2563eb; }
  </style>
</head>
<body>
  <h1>Meu Perfil</h1>
  <a href="pagina.html" class="back-arrow" title="Voltar">&#8592;</a>

  <div class="player-profile" id="playerProfile">
    <!-- Foto, mapa de calor e radar ser√£o carregados aqui -->
  </div>

  

  <div id="videosContainer">
    <p>Nenhum v√≠deo enviado ainda.</p>
  </div>

  <script>
    // Carregar jogador do localStorage
    const jogador = JSON.parse(localStorage.getItem('jogador'));
    const profileDiv = document.getElementById('playerProfile');
    if (jogador) {
      profileDiv.innerHTML = `
        <img src="${jogador.foto}" alt="Foto do jogador" title="Foto do jogador">
        <img src="${jogador.mapaCalor}" alt="Mapa de calor" title="Mapa de calor">
        <img src="${jogador.atributos}" alt="Atributos" title="Atributos">
      `;
    }

    // Fun√ß√µes de curtidas e coment√°rios
    function curtir(btn) {
      const countSpan = btn.querySelector('.like-count');
      let count = parseInt(countSpan.textContent);
      if (btn.dataset.liked === "true") { count--; btn.dataset.liked = "false"; }
      else { count++; btn.dataset.liked = "true"; }
      countSpan.textContent = count;
    }

    function descurtir(btn) {
      const countSpan = btn.querySelector('.dislike-count');
      let count = parseInt(countSpan.textContent);
      if (btn.dataset.disliked === "true") { count--; btn.dataset.disliked = "false"; }
      else { count++; btn.dataset.disliked = "true"; }
      countSpan.textContent = count;
    }

    function mostrarComentarios(btn) {
      const section = btn.closest('.video-info').querySelector('.comment-section');
      section.style.display = section.style.display === 'block' ? 'none' : 'block';
    }

    function compartilhar() { alert("Link copiado para compartilhar!"); }

    function getValueOrDefault(id, defaultValue) {
      const el = document.getElementById(id);
      return el ? el.value.trim() || defaultValue : defaultValue;
    }

    

    // Puxar v√≠deo salvo
    const videoURL = localStorage.getItem('videoURL');
    const description = localStorage.getItem('videoDescription');
    if (videoURL && description) {
      document.getElementById('videosContainer').innerHTML = `
        <div class="video-card">
          <video controls>
            <source src="${videoURL}" type="video/mp4">
            Seu navegador n√£o suporta v√≠deo.
          </video>
          <div class="video-info">
            <div class="video-title">${description}</div>
            <div class="video-meta">Postado em 08 de Agosto de 2025 ¬∑ 0 views ¬∑ 0 coment√°rios ¬∑ 0 curtidas</div>
            <div class="video-actions">
              <button class="btn-icon" onclick="curtir(this)">
                üëç <span class="like-count">0</span>
              </button>
              <button class="btn-icon" onclick="descurtir(this)">
                üëé <span class="dislike-count">0</span>
              </button>
              <button class="btn-icon" onclick="mostrarComentarios(this)">
                üí¨ Coment√°rios
              </button>
              <button class="btn-icon" onclick="compartilhar()">
                üì§ Compartilhar
              </button>
            </div>
            <div class="comment-section">
              <p class="no-comments">Nenhum coment√°rio ainda.</p>
            </div>
          </div>
        </div>
      `;
    }
  </script>
</body>
</html>
